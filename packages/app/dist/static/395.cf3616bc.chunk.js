"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[395],{10395:(Lt,F,r)=>{r.r(F),r.d(F,{LatestRunCard:()=>yt});var te=r(88951),g=r(58837),ae=r(21718),S=r(52950),a=r(14041),ne=r(92477),L=r(99291),f=r(99703),u=r(7031),re=r(95479),le=r.n(re),p=r(72501),R=r(58007),C=r(8109),oe=r(61009),se=r(13677),$=r(54801),ce=r(9719);const ie=e=>(0,f.A)({root:{fontWeight:e.typography.fontWeightBold,whiteSpace:"nowrap",paddingRight:e.spacing(4),border:"0",verticalAlign:"top"}}),de={root:{border:"0",verticalAlign:"top"}},me=e=>(0,f.A)({root:{margin:e.spacing(0,0,-1,0)}}),ge=e=>(0,f.A)({root:{padding:e.spacing(0,0,1,0)},random:{}}),ue=(0,u.A)(ie,{name:"BackstageMetadataTableTitleCell"})($.A),pe=(0,u.A)(de,{name:"BackstageMetadataTableCell"})($.A),Ee=({dense:e,children:t})=>a.createElement(oe.A,{size:e?"small":"medium"},a.createElement(se.A,null,t)),ye=({title:e,children:t,...n})=>a.createElement(ce.A,null,e&&a.createElement(ue,null,e),a.createElement(pe,{colSpan:e?1:2,...n},t)),D=(0,u.A)(me,{name:"BackstageMetadataTableList"})(({classes:e,children:t})=>a.createElement(R.A,{disablePadding:!0,className:e.root},t)),O=(0,u.A)(ge,{name:"BackstageMetadataTableListItem"})(({classes:e,children:t})=>a.createElement(C.A,{className:e.root},t)),U=(0,f.A)({root:{margin:"0 0",listStyleType:"none"}}),fe=e=>(0,f.A)({root:{...U.root,paddingLeft:e.spacing(1)}}),j=(0,u.A)(U,{name:"BackstageStructuredMetadataTableList"})(({classes:e,children:t})=>a.createElement(D,{classes:e},t)),J=(0,u.A)(fe,{name:"BackstageStructuredMetadataTableNestedList"})(({classes:e,children:t})=>a.createElement(D,{classes:e},t));function Ae(e,t,n){const o=e.map((l,s)=>a.createElement(O,{key:s},b(l,t,n)));return n?a.createElement(J,null,o):a.createElement(j,null,o)}function he(e,t,n){const o=Object.keys(e).map(l=>{const s=b(e[l],t,!0);return a.createElement(O,{key:l},a.createElement(p.A,{variant:"body2",component:"span"},`${t.titleFormat(l)}: `),s)});return n?a.createElement(J,null,o):a.createElement(j,null,o)}function b(e,t,n){return a.isValidElement(e)?a.createElement(a.Fragment,null,e):e!==null&&typeof e=="object"&&!Array.isArray(e)?he(e,t,n):Array.isArray(e)?Ae(e,t,n):typeof e=="boolean"?a.createElement(a.Fragment,null,e?"\u2705":"\u274C"):a.createElement(p.A,{variant:"body2",component:"span"},e)}const Ce=({value:e,options:t})=>a.createElement(a.Fragment,null,b(e,t,!1)),ve=({title:e,value:t,options:n})=>a.createElement(ye,{title:n.titleFormat(e)},a.createElement(Ce,{value:t,options:n}));function xe(e,t){return Object.keys(e).map(n=>a.createElement(ve,{key:n,title:n,value:e[n],options:t}))}function Te(e){const{metadata:t,dense:n=!0,options:o={}}=e,l=xe(t,{titleFormat:le(),...o});return a.createElement(Ee,{dense:n},l)}var N=r(65542),v=r(268),Be=r(8973),Se=r(29655),Le=r(91567),I=r(42899),be=r(9181),Ne=r(6924),Ie=r(60767),ke=r(28138),A=r(77125),Me=r(54917),Pe=r(20279),We=r(40697),Fe=r(25577),Re=r(18139),$e=r(24453),De=r(29365),Oe=r(71677),Ue=r(99594),je=r(36338),V=r(22439),H=r(10265);function x(e){const{t}=(0,H.i)(V.O),{text:n,tooltipDelay:o=1e3,tooltipText:l=t("copyTextButton.tooltipText"),"aria-label":s="Copy text"}=e,i=(0,Re.gf)($e.m),[c,d]=(0,a.useState)(!1),[{error:E},h]=(0,je.A)();(0,a.useEffect)(()=>{E&&i.post(E)},[E,i]);const M=B=>{B.stopPropagation(),d(!0),h(n)};return a.createElement(a.Fragment,null,a.createElement(Oe.Ay,{id:"copy-test-tooltip",title:l,placement:"top",leaveDelay:o,onClose:()=>d(!1),open:c},a.createElement(De.A,{onClick:M,"aria-label":s},a.createElement(Ue.A,null))))}function Je(e){const{text:t,language:n,showLineNumbers:o=!1,highlightedNumbers:l,customStyle:s,showCopyCodeButton:i=!1}=e,c=(0,Me.A)(),d=c.palette.type==="dark"?We.A:Fe.A,E=c.palette.type==="dark"?"#256bf3":"#e6ffed";return a.createElement(A.A,{position:"relative"},a.createElement(Pe.A,{customStyle:s,language:n,style:d,showLineNumbers:o,wrapLines:!0,lineNumberStyle:{color:c.palette.textVerySubtle},lineProps:h=>l?.includes(h)?{style:{backgroundColor:E}}:{}},t),i&&a.createElement(A.A,{position:"absolute",top:0,right:0},a.createElement(x,{text:t})))}const Ve=(0,g.A)(e=>({markdown:{"& table":{borderCollapse:"collapse",border:`1px solid ${e.palette.border}`},"& th, & td":{border:`1px solid ${e.palette.border}`,padding:e.spacing(1)},"& td":{wordBreak:"break-word",overflow:"hidden",verticalAlign:"middle",lineHeight:"1",margin:0,padding:e.spacing(3,2,3,2.5),borderBottom:0},"& th":{backgroundColor:e.palette.background.paper},"& tr":{backgroundColor:e.palette.background.paper},"& tr:nth-child(odd)":{backgroundColor:e.palette.background.default},"& a":{color:e.palette.link},"& img":{maxWidth:"100%"}}}),{name:"BackstageMarkdownContent"}),z=(e,t)=>t?typeof t=="string"?e+t:a.Children.toArray(t.props.children).reduce(z,e):e,y=({level:e,children:t})=>{const l=a.Children.toArray(t).reduce(z,"").toLocaleLowerCase("en-US").replace(/\W/g,"-");return a.createElement(`h${e}`,{id:l},t)},He={code:({inline:e,className:t,children:n,...o})=>{const l=String(n).replace(/\n+$/,""),s=/language-(\w+)/.exec(t||"");return!e&&s?a.createElement(Je,{language:s[1],text:l}):a.createElement("code",{className:t,...o},n)},h1:y,h2:y,h3:y,h4:y,h5:y,h6:y};function ze(e){const{content:t,dialect:n="gfm",linkTarget:o,transformLinkUri:l,transformImageUri:s,className:i}=e,c=Ve();return a.createElement(Ie.$,{remarkPlugins:n==="gfm"?[ke.A]:[],className:`${c.markdown} ${i??""}`.trim(),children:t,components:He,linkTarget:o,transformLinkUri:l,transformImageUri:s})}const T=(e,t)=>(t.palette.type==="light"?v.e$:v.a)(t.palette[e].light,.6),G=(e,t)=>(t.palette.type==="light"?v.a:v.e$)(t.palette[e].light,.9),X=(0,g.A)(e=>({root:{marginRight:e.spacing(1),fill:({severity:t})=>T(t,e)}})),Ge=({severity:e})=>{const t=X({severity:e});return a.createElement(be.A,{classes:t})},Xe=({severity:e})=>{const t=X({severity:e});return a.createElement(Ne.A,{classes:t})},Ye=(0,g.A)(e=>({panel:{backgroundColor:({severity:t})=>G(t,e),color:({severity:t})=>T(t,e),verticalAlign:"middle"},summary:{display:"flex",flexDirection:"row"},summaryText:{color:({severity:t})=>T(t,e),fontWeight:e.typography.fontWeightBold},markdownContent:{"& p":{display:"inline"}},message:{width:"100%",display:"block",color:({severity:t})=>T(t,e),backgroundColor:({severity:t})=>G(t,e)},details:{width:"100%",display:"block",color:e.palette.textContrast,backgroundColor:e.palette.background.default,border:`1px solid ${e.palette.border}`,padding:e.spacing(2),fontFamily:"sans-serif"}}),{name:"BackstageWarningPanel"}),Ke=e=>e.charAt(0).toLocaleUpperCase("en-US")+e.slice(1);function Y(e){const{severity:t="warning",title:n,titleFormat:o,message:l,children:s,defaultExpanded:i}=e,c=Ye({severity:t}),d=Ke(t)+(n?`: ${n}`:"");return a.createElement(Be.A,{defaultExpanded:i??!1,className:c.panel,role:"alert"},a.createElement(Se.A,{expandIcon:a.createElement(Xe,{severity:t}),className:c.summary},a.createElement(Ge,{severity:t}),a.createElement(p.A,{className:c.summaryText,variant:"subtitle1"},o==="markdown"?a.createElement(ze,{content:d,className:c.markdownContent}):d)),(l||s)&&a.createElement(Le.A,null,a.createElement(I.A,{container:!0},l&&a.createElement(I.A,{item:!0,xs:12},a.createElement(p.A,{className:c.message,variant:"body1"},l)),s&&a.createElement(I.A,{item:!0,xs:12,className:c.details},s))))}var Qe=r(40703),K=r(59469),Ze=r(48653),we=r(45685),Q=r(37197),qe=r(53373),Z=r.n(qe),_e=r(52235);const et=(0,g.A)(e=>({root:{maxWidth:"fit-content",padding:e.spacing(2,2,2,2.5)},boxTitle:{margin:0,color:e.palette.textSubtle},arrow:{color:e.palette.textSubtle}}),{name:"BackstageBottomLink"});function tt(e){const{link:t,title:n,onClick:o}=e,l=et();return a.createElement(A.A,null,a.createElement(Q.A,null),a.createElement(N.N_,{to:t,onClick:o,underline:"none"},a.createElement(A.A,{display:"flex",alignItems:"center",className:l.root},a.createElement(A.A,{className:l.boxTitle,fontWeight:"fontWeightBold",m:1},a.createElement(p.A,null,a.createElement("strong",null,n))),a.createElement(_e.A,{className:l.arrow}))))}var at=r(64947);const nt=a.forwardRef((e,t)=>a.createElement(N.N_,{ref:t,...e,color:"initial"})),rt=a.forwardRef((e,t)=>a.createElement(at.A,{ref:t,component:nt,...e})),bt=null;var k=r(5951);const lt=(0,g.A)(e=>({text:{fontFamily:"monospace",whiteSpace:"pre",overflowX:"auto",marginRight:e.spacing(2)},divider:{margin:e.spacing(2)}}),{name:"BackstageErrorPanel"}),ot=({error:e,message:t,stack:n,children:o})=>{const l=lt();return a.createElement(R.A,{dense:!0},a.createElement(C.A,{alignItems:"flex-start"},a.createElement(k.A,{classes:{secondary:l.text},primary:"Error",secondary:e}),a.createElement(x,{text:e})),a.createElement(C.A,{alignItems:"flex-start"},a.createElement(k.A,{classes:{secondary:l.text},primary:"Message",secondary:t}),a.createElement(x,{text:t})),n&&a.createElement(C.A,{alignItems:"flex-start"},a.createElement(k.A,{classes:{secondary:l.text},primary:"Stack Trace",secondary:n}),a.createElement(x,{text:n})),o)};function st(e){const{title:t,error:n,defaultExpanded:o,titleFormat:l,children:s}=e;return a.createElement(Y,{severity:"error",title:t??n.message,defaultExpanded:o,titleFormat:l},a.createElement(ot,{error:n.name,message:n.message,stack:n.stack,children:s}))}const ct=e=>{const{slackChannel:t}=e,{t:n}=(0,H.i)(V.O);if(t){if(typeof t=="string")return a.createElement(p.A,null,n("errorBoundary.title",{slackChannel:t}));if(!t.href)return a.createElement(p.A,null,n("errorBoundary.title",{slackChannel:t.name}))}else return null;return a.createElement(rt,{to:t.href,variant:"contained"},t.name)},it=class extends a.Component{constructor(t){super(t),this.state={error:void 0,errorInfo:void 0}}componentDidCatch(t,n){console.error(`ErrorBoundary, error: ${t}`,{error:t,errorInfo:n}),this.setState({error:t,errorInfo:n})}render(){const{slackChannel:t,children:n}=this.props,{error:o}=this.state;return o?a.createElement(st,{title:"Something Went Wrong",error:o},a.createElement(ct,{slackChannel:t})):n}},dt=(0,g.A)(e=>({noPadding:{padding:0,"&:last-child":{paddingBottom:0}},contentAlignBottom:{display:"flex",alignItems:"self-end"},header:{padding:e.spacing(2,2,2,2.5)},headerTitle:{fontWeight:e.typography.fontWeightBold},headerSubheader:{paddingTop:e.spacing(1)},headerAvatar:{},headerAction:{},headerContent:{},subheader:{display:"flex"}}),{name:"BackstageInfoCard"}),mt=(0,u.A)(e=>({root:{display:"inline-block",padding:e.spacing(8,8,0,0),float:"right"}}),{name:"BackstageInfoCardCardActionsTopRight"})(K.A),w={card:{flex:{display:"flex",flexDirection:"column"},fullHeight:{display:"flex",flexDirection:"column",height:"100%"},gridItem:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px",breakInside:"avoid-page","@media print":{height:"auto"}}},cardContent:{fullHeight:{flex:1},gridItem:{flex:1}}};function gt(e){const{title:t,subheader:n,divider:o=!0,deepLink:l,slackChannel:s,errorBoundaryProps:i,variant:c,alignContent:d="normal",children:E,headerStyle:h,headerProps:M,icon:B,action:ft,actionsClassName:At,actions:q,cardClassName:ht,actionsTopRight:_,className:Ct,noPadding:vt,titleTypographyProps:xt,subheaderTypographyProps:Tt}=e,m=dt();let P={},W={};c&&c.split(/[\s]+/g).forEach(ee=>{P={...P,...w.card[ee]},W={...W,...w.cardContent[ee]}});const Bt=()=>!n&&!B?null:a.createElement("div",{"data-testid":"info-card-subheader"},n&&a.createElement("div",{className:m.subheader},n),B),St=i||(s?{slackChannel:s}:{});return a.createElement(Qe.A,{style:P,className:Ct},a.createElement(it,{...St},t&&a.createElement(we.A,{classes:{root:Z()(m.header),title:m.headerTitle,subheader:m.headerSubheader,avatar:m.headerAvatar,action:m.headerAction,content:m.headerContent},title:t,subheader:Bt(),action:ft,style:{...h},titleTypographyProps:xt,subheaderTypographyProps:Tt,...M}),_&&a.createElement(mt,null,_),o&&a.createElement(Q.A,null),a.createElement(Ze.A,{className:Z()(ht,{[m.noPadding]:vt,[m.contentAlignBottom]:d==="bottom"}),style:W},E),q&&a.createElement(K.A,{className:At},q),l&&a.createElement(tt,{...l})))}const ut=(0,g.A)({externalLinkIcon:{fontSize:"inherit",verticalAlign:"bottom"}}),pt=({loading:e,latestRun:t})=>{const n=ut();if(e||!t)return a.createElement(te.A,null);const o=S.c9.fromMillis(t.lastBuild.timestamp).toRelative(),l=(t.lastBuild.building?"Running for ":"")+S.c9.local().minus(S.dw.fromMillis(t.lastBuild.duration)).toRelative({locale:"en"})?.replace(" ago","");return a.createElement(Te,{metadata:{status:a.createElement(a.Fragment,null,a.createElement(ne.c,{status:t.lastBuild.status})),build:t.fullDisplayName,"latest run":o,duration:l,link:a.createElement(N.N_,{to:t.lastBuild.url},"See more on Jenkins"," ",a.createElement(ae.A,{className:n.externalLinkIcon}))}})},Et=e=>{const{message:t,errorType:n}=e;let o;return n===L.B.CONNECTION_ERROR?o="Can't connect to Jenkins":n===L.B.NOT_FOUND&&(o="Can't find Jenkins project"),a.createElement(Y,{severity:"error",title:o,message:t})},yt=e=>{const{branch:t="master",variant:n}=e,[{projects:o,loading:l,error:s}]=(0,L.F)({branch:t}),i=o?.[0];return a.createElement(gt,{title:`Latest ${t} build`,variant:n},s?a.createElement(Et,{message:s.message,errorType:s.errorType}):a.createElement(pt,{loading:l,branch:t,latestRun:i}))}}}]);})();

//# sourceMappingURL=395.cf3616bc.chunk.js.map