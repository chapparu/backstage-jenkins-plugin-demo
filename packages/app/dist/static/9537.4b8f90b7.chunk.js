"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9537],{99537:(j,g,e)=>{e.r(g),e.d(g,{AboutCard:()=>De,AboutContent:()=>oe,AboutField:()=>y});var p=e(55488),C=e(78560),r=e(98890),E=e(40703),S=e(48653),L=e(45685),Q=e(37197),H=e(29365),I=e(58837),O=e(75202),x=e(92483),t=e(14041),V=e(53373),D=e.n(V),A=e(86613),h=e(77125),u=e(72501);const i=(0,I.A)(s=>({link:{display:"grid",justifyItems:"center",gridGap:4,textAlign:"center"},disabled:{color:s.palette.text.secondary,cursor:"default"},primary:{color:s.palette.primary.main},secondary:{color:s.palette.secondary.main},label:{textTransform:"uppercase",fontWeight:s.typography.fontWeightBold,letterSpacing:1.2}}),{name:"BackstageIconLinkVertical"});function R({color:s="primary",disabled:a=!1,href:o="#",icon:n=t.createElement(A.A,null),label:l,onClick:v,title:m}){const c=i();return a?t.createElement(h.A,{title:m,className:D()(c.link,c.disabled)},n,t.createElement(u.A,{variant:"caption",component:"span",className:c.label},l)):t.createElement(O.N_,{title:m,className:D()(c.link,c[s]),to:o,onClick:v},n,t.createElement(u.A,{variant:"caption",component:"span",className:c.label},l))}const W=(0,I.A)(s=>({links:{margin:s.spacing(2,0),display:"grid",gridAutoFlow:"column",gridAutoColumns:"min-content",gridGap:s.spacing(3)}}),{name:"BackstageHeaderIconLinkRow"});function J(s){const{links:a}=s,o=W();return t.createElement("nav",{className:o.links},a.map((n,l)=>t.createElement(R,{key:l+1,...n})))}var X=e(54934),ce=e(13660),q=e(95208);const me=s=>{const{type:a}=s,o=(0,q.n)(),n=ce.A,l=a?o.getSystemIcon(a)??n:n;return t.createElement(l,null)};var B=e(18139),de=e(34477),ue=e(24453),_=e(72814),ve=e(16400),ee=e(30043),te=e(79112);function fe(s,a){const o=s.metadata.annotations?.[r.I4];if(o)try{const n=(0,te.aY)(o),l=a.byUrl(n.target);return{locationTargetUrl:n.target,integrationType:l?.type}}catch{return}}var ae=e(88549),k=e(97214),M=e(699),G=e(14158),ge=e(67720),ne=e(42899),pe=e(28364),ye=e(77026);const Ce=(0,I.A)(s=>({value:{fontWeight:"bold",overflow:"hidden",lineHeight:"24px",wordBreak:"break-word"},label:{color:s.palette.text.secondary,textTransform:"uppercase",fontSize:"10px",fontWeight:"bold",letterSpacing:.5,overflow:"hidden",whiteSpace:"nowrap"}}));function y(s){const{label:a,value:o,gridSizes:n,children:l}=s,v=Ce(),m=(0,ye.O)(l,z=>z.getElements()),c=m.length>0?m:t.createElement(u.A,{variant:"body2",className:v.value},o||"unknown");return t.createElement(ne.A,{item:!0,...n},t.createElement(u.A,{variant:"h2",className:v.label},a),c)}var Ee=e(71096),le=e(10265),se=e(58045);const Ae=(0,I.A)({description:{wordBreak:"break-word"}});function he(s,a,o){if(a==="url"||s.includes("://"))return s;const n=o.type==="file"?`file://${o.target}`:o.target;return a==="file"||o.type==="file"?new URL(s,n).href:n}function oe(s){const{entity:a}=s,o=Ae(),{t:n}=(0,le.i)(se.W),l=a.kind.toLocaleLowerCase("en-US")==="system",v=a.kind.toLocaleLowerCase("en-US")==="resource",m=a.kind.toLocaleLowerCase("en-US")==="component",c=a.kind.toLocaleLowerCase("en-US")==="api",z=a.kind.toLocaleLowerCase("en-US")==="template",T=a.kind.toLocaleLowerCase("en-US")==="location",b=a.kind.toLocaleLowerCase("en-US")==="group",N=(0,M.t)(a,k.jn,{kind:"system"}),K=(0,M.t)(a,k.jn,{kind:"component"}),d=(0,M.t)(a,k.jn,{kind:"domain"}),P=(0,M.t)(a,k.vv);let F;try{F=(0,te.Cr)(a)}catch{F=void 0}return t.createElement(ne.A,{container:!0},t.createElement(y,{label:n("aboutCard.descriptionField.label"),gridSizes:{xs:12}},t.createElement(pe.h,{className:o.description,content:a?.metadata?.description||n("aboutCard.descriptionField.value")})),t.createElement(y,{label:n("aboutCard.ownerField.label"),value:n("aboutCard.ownerField.value"),gridSizes:{xs:12,sm:6,lg:4}},P.length>0&&t.createElement(G.i,{entityRefs:P,defaultKind:"group"})),(l||d.length>0)&&t.createElement(y,{label:n("aboutCard.domainField.label"),value:n("aboutCard.domainField.value"),gridSizes:{xs:12,sm:6,lg:4}},d.length>0&&t.createElement(G.i,{entityRefs:d,defaultKind:"domain"})),(c||m||v||N.length>0)&&t.createElement(y,{label:n("aboutCard.systemField.label"),value:n("aboutCard.systemField.value"),gridSizes:{xs:12,sm:6,lg:4}},N.length>0&&t.createElement(G.i,{entityRefs:N,defaultKind:"system"})),m&&K.length>0&&t.createElement(y,{label:n("aboutCard.parentComponentField.label"),value:n("aboutCard.parentComponentField.value"),gridSizes:{xs:12,sm:6,lg:4}},t.createElement(G.i,{entityRefs:K,defaultKind:"component"})),(c||m||v||z||b||T||typeof a?.spec?.type=="string")&&t.createElement(y,{label:n("aboutCard.typeField.label"),value:a?.spec?.type,gridSizes:{xs:12,sm:6,lg:4}}),(c||m||typeof a?.spec?.lifecycle=="string")&&t.createElement(y,{label:n("aboutCard.lifecycleField.label"),value:a?.spec?.lifecycle,gridSizes:{xs:12,sm:6,lg:4}}),t.createElement(y,{label:n("aboutCard.tagsField.label"),value:n("aboutCard.tagsField.value"),gridSizes:{xs:12,sm:6,lg:4}},(a?.metadata?.tags||[]).map(f=>t.createElement(ge.A,{key:f,size:"small",label:f}))),T&&(a?.spec?.targets||a?.spec?.target)&&t.createElement(y,{label:n("aboutCard.targetsField.label"),gridSizes:{xs:12}},t.createElement(Ee.m,{cols:1,items:(a.spec.targets||[a.spec.target]).map(f=>f).map(f=>({text:f,href:he(f,a?.spec?.type||"unknown",F)}))})))}var Se=e(74011),Le=e(25534),Ie=e(4832),xe=e(75625),Re=e(45281),Te=e(56299),be=e(71913),Ne=e(91638);const Fe="backstage.io/source-template",ze=s=>{const a=(0,B.gf)(ee.v),{value:o}=(0,Ne.A)(async()=>{const n=s.metadata.annotations?.[Fe];let l;if(n)try{const v=await a.getEntityByRef(n);return l=(0,C.KU)(n),v!==void 0?l:void 0}catch{return}},[a,s]);return o};var Ue=e(31627),He=e(90712);const Oe="backstage.io/techdocs-ref",Y="backstage.io/techdocs-entity",Be=(0,I.A)({gridItemCard:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)",marginBottom:"10px"},fullHeightCard:{display:"flex",flexDirection:"column",height:"100%"},gridItemCardContent:{flex:1},fullHeightCardContent:{flex:1}});function De(s){const{variant:a}=s,o=(0,q.n)(),n=Be(),{entity:l}=(0,ve.tN)(),v=(0,B.gf)(X.Y),m=(0,B.gf)(ee.v),c=(0,B.gf)(de.k),z=(0,B.gf)(ue.m),T=(0,_.S)(ae.UJ),b=(0,_.S)(ae.Zg),N=ze(l),{allowed:K}=(0,Te.A)(be.tS),{t:d}=(0,le.i)(se.W),{allowed:P}=(0,He.J)({permission:Ue.X6}),F=fe(l,v),f=l.metadata.annotations?.[p.P];let U;if(l.metadata.annotations?.[Y])try{U=(0,C.KU)(l.metadata.annotations?.[Y])}catch{U=void 0}const We={label:d("aboutCard.viewSource"),disabled:!F,icon:t.createElement(me,{type:F?.integrationType}),href:F?.locationTargetUrl},ke={label:d("aboutCard.viewTechdocs"),disabled:!(l.metadata.annotations?.[Oe]||l.metadata.annotations?.[Y])||!T,icon:t.createElement(Ie.A,null),href:T&&T(U?{namespace:U.namespace||p.oQ,kind:U.kind,name:U.name}:{namespace:l.metadata.namespace||p.oQ,kind:l.kind,name:l.metadata.name})},ie=[We,ke];if((0,Re.c)(l)){const w=o.getSystemIcon("scaffolder")??Le.A,Ke={label:d("aboutCard.launchTemplate"),icon:t.createElement(w,null),disabled:!b||!P,href:b&&b({templateName:l.metadata.name,namespace:l.metadata.namespace||p.oQ})};ie.push(Ke)}let Z="";a==="gridItem"?Z=n.gridItemCard:a==="fullHeight"&&(Z=n.fullHeightCard);let $="";a==="gridItem"?$=n.gridItemCardContent:a==="fullHeight"&&($=n.fullHeightCardContent);const re=l.metadata.annotations?.[r.Eo],Me=re?.startsWith("url:")||re?.startsWith("file:"),Ge=(0,t.useCallback)(async()=>{try{await m.refreshEntity((0,C.U2)(l)),c.post({message:d("aboutCard.refreshScheduledMessage"),severity:"info",display:"transient"})}catch(w){z.post(w)}},[m,l,c,d,z]);return t.createElement(E.A,{className:Z},t.createElement(L.A,{title:d("aboutCard.title"),action:t.createElement(t.Fragment,null,Me&&K&&t.createElement(H.A,{"aria-label":"Refresh",title:d("aboutCard.refreshButtonTitle"),onClick:Ge},t.createElement(Se.A,null)),t.createElement(H.A,{component:O.N_,"aria-label":"Edit",disabled:!f,title:d("aboutCard.editButtonTitle"),to:f??"#"},t.createElement(xe.A,null)),N&&b&&t.createElement(H.A,{component:O.N_,title:d("aboutCard.createSimilarButtonTitle"),to:b({namespace:N.namespace,templateName:N.name})},t.createElement(x.z9,{id:"scaffolder"}))),subheader:t.createElement(J,{links:ie})}),t.createElement(Q.A,null),t.createElement(S.A,{className:$},t.createElement(oe,{entity:l})))}},71096:(j,g,e)=>{e.d(g,{m:()=>D});var p=e(24709),C=e(44913),r=e(14041),E=e(77125),S=e(72501),L=e(58837),Q=e(23127),H=e(75202);const I=(0,L.A)({svgIcon:{display:"inline-block","& svg":{display:"inline-block",fontSize:"inherit",verticalAlign:"baseline"}}});function O(A){const{href:h,text:u,Icon:i}=A,R=I();return r.createElement(E.A,{display:"flex"},r.createElement(E.A,{mr:1,className:R.svgIcon},r.createElement(S.A,{component:"div"},i?r.createElement(i,null):r.createElement(Q.A,null))),r.createElement(E.A,{flexGrow:"1"},r.createElement(H.N_,{to:h,target:"_blank",rel:"noopener"},u||h)))}var x=e(5893);const t={xs:1,sm:1,md:1,lg:2,xl:3};function V(A){const h=[(0,x.A)(i=>i.breakpoints.up("xl"))?"xl":null,(0,x.A)(i=>i.breakpoints.up("lg"))?"lg":null,(0,x.A)(i=>i.breakpoints.up("md"))?"md":null,(0,x.A)(i=>i.breakpoints.up("sm"))?"sm":null,(0,x.A)(i=>i.breakpoints.up("xs"))?"xs":null];let u=1;if(typeof A=="number")u=A;else{const i=h.find(R=>R!==null)??"xs";u=A?.[i]??t[i]}return u}function D(A){const{items:h,cols:u=void 0}=A,i=V(u);return r.createElement(p.A,{rowHeight:"auto",cols:i},h.map(({text:R,href:W,Icon:J},X)=>r.createElement(C.A,{key:X},r.createElement(O,{href:W,text:R??W,Icon:J}))))}},74011:(j,g,e)=>{var p,C=e(4293),r=e(78920);p={value:!0},g.A=void 0;var E=r(e(14041)),S=C(e(74044)),L=(0,S.default)(E.createElement("path",{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}),"Cached");g.A=L},13660:(j,g,e)=>{var p,C=e(4293),r=e(78920);p={value:!0},g.A=void 0;var E=r(e(14041)),S=C(e(74044)),L=(0,S.default)(E.createElement("path",{d:"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"}),"Code");g.A=L}}]);})();

//# sourceMappingURL=9537.4b8f90b7.chunk.js.map