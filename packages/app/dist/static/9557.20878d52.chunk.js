"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9557],{56420:(A,o,t)=>{t.d(o,{Y:()=>V});var e=t(95208),s=t(77125),m=t(64947),d=t(93453),l=t(29365),r=t(46423),n=t(5951),_=t(26343),E=t(28233),p=t(55197),B=t(58837),R=t(72501),f=t(5893),a=t(14041),h=t(45250),X=t.n(h),y=t(70209),L=t(92483),W=t(75202),K=t(89475),S=t(10265);const z=(0,B.A)({popoverList:{minWidth:260,maxWidth:400},menuItem:{whiteSpace:"normal"}},{name:"BackstageSupportButton"}),x=({icon:i})=>{const O=(0,e.n)(),C=i?O.getSystemIcon(i)??L.NT:L.NT;return a.createElement(C,null)},F=({link:i})=>a.createElement(W.N_,{to:i.url},i.title??i.url),$=({item:i})=>a.createElement(_.A,{button:!1},a.createElement(r.A,null,a.createElement(x,{icon:i.icon})),a.createElement(n.A,{primary:i.title,secondary:i.links?.reduce((O,C,T)=>[...O,T>0&&a.createElement("br",{key:T}),a.createElement(F,{link:C,key:C.url})],[])}));function V(i){const{t:O}=(0,S.i)(K.O),{title:C,items:T,children:G}=i,{items:g}=(0,y.l)(),[U,N]=(0,a.useState)(!1),[Q,J]=(0,a.useState)(null),u=z(),v=(0,f.A)(c=>c.breakpoints.down("sm")),D=c=>{J(c.currentTarget),N(!0)},M=()=>{N(!1)};return a.createElement(a.Fragment,null,a.createElement(s.A,{display:"flex",ml:1},v?a.createElement(l.A,{color:"primary",size:"small",onClick:D,"data-testid":"support-button","aria-label":"Support"},a.createElement(L.NT,null)):a.createElement(m.A,{"data-testid":"support-button","aria-label":"Support",color:"primary",onClick:D,startIcon:a.createElement(L.NT,null)},O("supportButton.title"))),a.createElement(p.Ay,{"data-testid":"support-button-popover",open:U,anchorEl:Q,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:M},a.createElement(E.A,{className:u.popoverList,autoFocusItem:!!Q},C&&a.createElement(_.A,{button:!1,alignItems:"flex-start",className:u.menuItem},a.createElement(R.A,{variant:"subtitle1"},C)),a.Children.map(G,(c,P)=>a.createElement(_.A,{button:!1,alignItems:"flex-start",key:`child-${P}`,className:u.menuItem},c)),(T??g).map((c,P)=>a.createElement($,{item:c,key:`item-${P}`}))),a.createElement(d.A,null,a.createElement(m.A,{color:"primary",onClick:M,"aria-label":"Close"},O("supportButton.close")))))}},45575:(A,o,t)=>{t.d(o,{f:()=>_});var e=t(77125),s=t(99703),m=t(58837),d=t(72501),l=t(14041);const r=E=>(0,s.A)({root:{color:E.palette.common.white,padding:E.spacing(2,2,3),backgroundImage:E.getPageTheme({themeId:"card"}).backgroundImage,backgroundPosition:0,backgroundSize:"inherit"}}),n=(0,m.A)(r,{name:"BackstageItemCardHeader"});function _(E){const{title:p,subtitle:B,children:R}=E,f=n(E);return l.createElement(e.A,{className:f.root},B&&l.createElement(d.A,{variant:"subtitle2",component:"h3"},B),p&&l.createElement(d.A,{variant:"h6",component:"h4"},p),R)}},92303:(A,o,t)=>{t.d(o,{d:()=>d});var e=t(14041),s=t(16654),m=t(82326);function d(l){const{themeId:r,children:n,..._}=l;return e.createElement(m.Y,{themeId:r},e.createElement(s.Y,{..._}),n)}},19108:(A,o,t)=>{t.d(o,{A:()=>e,G:()=>s});const e="backstage.io/techdocs-ref",s="backstage.io/techdocs-entity"},4348:(A,o,t)=>{t.d(o,{V:()=>e});function e(s,m){return m.getOptionalBoolean("techdocs.legacyUseCaseSensitiveTripletPaths")?s:s.toLocaleLowerCase("en-US")}},67633:(A,o,t)=>{t.d(o,{o:()=>y});var e=t(14041),s=t(36338),m=t(72814),d=t(18139),l=t(54195),r=t(97214),n=t(699),_=t(53318),E=t(17749),p=t(29021),B=t(65995),R=t(87318),f=t(143),a=t(61231),h=t(4348);const X=[a.B.createTitleColumn({hidden:!0}),a.B.createNameColumn(),a.B.createOwnerColumn(),a.B.createKindColumn(),a.B.createTypeColumn()],y=L=>{const{entities:W,title:K,loading:S,columns:z,actions:x,options:F}=L,[,$]=(0,s.A)(),V=(0,m.S)(E.Oc),i=(0,d.gf)(l.U);if(!W)return null;const O=W.map(g=>{const U=(0,n.t)(g,r.vv);return{entity:g,resolved:{docsUrl:V({namespace:(0,h.V)(g.metadata.namespace??"default",i),kind:(0,h.V)(g.kind,i),name:(0,h.V)(g.metadata.name,i)}),ownedByRelations:U,ownedByRelationsTitle:U.map(N=>(0,_.S)(N,{defaultKind:"group"})).join(", ")}}}),C=[f.f.createCopyDocsUrlAction($)],T=20,G=O&&O.length>T;return e.createElement(e.Fragment,null,S||O&&O.length>0?e.createElement(p.X,{isLoading:S,options:{paging:G,pageSize:T,search:!0,actionsColumnIndex:-1,...F},data:O,columns:z||X,actions:x||C,title:K?`${K} (${O.length})`:`All (${O.length})`}):e.createElement(B.p,{missing:"data",title:"No documents to show",description:"Create your own document. Check out our Getting Started Information",action:e.createElement(R.z,{color:"primary",to:"https://backstage.io/docs/features/techdocs/getting-started",variant:"contained"},"DOCS")}))};y.columns=a.B,y.actions=f.f},143:(A,o,t)=>{t.d(o,{f:()=>d});var e=t(14041),s=t(55290),m=t(23730);const d={createCopyDocsUrlAction(l){return r=>({icon:()=>e.createElement(s.A,{fontSize:"small"}),tooltip:"Click to copy documentation link to clipboard",onClick:()=>l(`${window.location.origin}${r.resolved.docsUrl}`)})},createStarEntityAction(l,r){return n=>{const _=n.entity,E=l(_);return{cellStyle:{paddingLeft:"1em"},icon:()=>e.createElement(m.m,{isFavorite:E}),tooltip:E?"Remove from favorites":"Add to favorites",onClick:()=>r(_)}}}}},61231:(A,o,t)=>{t.d(o,{B:()=>r});var e=t(14041),s=t(49907),m=t(75202),d=t(14158);function l(n){return n.metadata.title||n.metadata.name}const r={createTitleColumn(n){return{...r.createNameColumn(),field:"entity.metadata.title",hidden:n?.hidden}},createNameColumn(){return{title:"Document",field:"entity.metadata.name",highlight:!0,searchable:!0,defaultSort:"asc",customSort:(n,_)=>{const E=l(n.entity).toLocaleLowerCase(),p=l(_.entity).toLocaleLowerCase();return E.localeCompare(p)},render:n=>e.createElement(s.m,{value:e.createElement(m.N_,{to:n.resolved.docsUrl},l(n.entity)),subvalue:n.entity.metadata.description})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:n})=>e.createElement(d.i,{entityRefs:n.ownedByRelations,defaultKind:"group"})}},createKindColumn(){return{title:"Kind",field:"entity.kind"}},createTypeColumn(){return{title:"Type",field:"entity.spec.type"}}}},59557:(A,o,t)=>{t.r(o),t.d(o,{TechDocsCustomHome:()=>J});var e=t(14041),s=t(73466),m=t(58837),d=t(97214),l=t(78560),r=t(18139),n=t(94223),_=t(699);function E(){const u=(0,r.gf)(n.K),{loading:v,value:D}=(0,s.A)(async()=>{const{ownershipEntityRefs:c}=await u.getBackstageIdentity();return c},[]),M=(0,e.useMemo)(()=>{const c=new Set(D??[]);return P=>{const Y=(0,_.t)(P,d.vv).map(l.U2);for(const H of Y)if(c.has(H))return!0;return!1}},[D]);return{loading:v,isOwnedEntity:M}}var p=t(30043),B=t(24259),R=t(67633),f=t(17749),a=t(4348),h=t(72814),X=t(54195),y=t(17174),L=t(45575),W=t(87318),K=t(40703),S=t(59469),z=t(48653),x=t(57369);const F=u=>{const{entities:v}=u,D=(0,h.S)(f.Oc),M=(0,r.gf)(X.U);return v?e.createElement(y.s,{"data-testid":"docs-explore"},v?.length?v.map((c,P)=>e.createElement(K.A,{key:P},e.createElement(x.A,null,e.createElement(L.f,{title:c.metadata.title??c.metadata.name})),e.createElement(z.A,null,c.metadata.description),e.createElement(S.A,null,e.createElement(W.z,{to:D({namespace:(0,a.V)(c.metadata.namespace??"default",M),kind:(0,a.V)(c.kind,M),name:(0,a.V)(c.metadata.name,M)}),color:"primary","data-testid":"read_docs"},"Read Docs")))):null):null};var $=t(17138),V=t(56420),i=t(16454),O=t(96872),C=t(99338),T=t(62112),G=t(44390),g=t(88461),U=t(19108);const N={DocsTable:R.o,DocsCardGrid:F},Q=({config:u,entities:v,index:D})=>{const c=(0,m.A)({panelContainer:{marginBottom:"2rem",...u.panelCSS?u.panelCSS:{}}})(),{loading:P,isOwnedEntity:Y}=E(),H=N[u.panelType],Z=v.filter(I=>u.filterPredicate==="ownedByUser"?P?!1:Y(I):typeof u.filterPredicate=="function"&&u.filterPredicate(I));return e.createElement(e.Fragment,null,e.createElement($.d,{title:u.title,description:u.description},D===0?e.createElement(V.Y,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:c.panelContainer},e.createElement(H,{"data-testid":"techdocs-custom-panel",entities:Z})))},J=u=>{const{tabsConfig:v}=u,[D,M]=(0,e.useState)(0),c=(0,r.gf)(p.v),{value:P,loading:Y,error:H}=(0,s.A)(async()=>(await c.getEntities({filter:{[`metadata.annotations.${U.A}`]:B.c},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(j=>!!j.metadata.annotations?.[U.A])),Z=v[D];return Y?e.createElement(g.S,null,e.createElement(i.U,null,e.createElement(O.k,null))):H?e.createElement(g.S,null,e.createElement(i.U,null,e.createElement(C.B,{severity:"error",title:"Could not load available documentation."},e.createElement(T.z,{language:"text",text:H.toString()})))):e.createElement(g.S,null,e.createElement(G.o,{selectedIndex:D,onChange:I=>M(I),tabs:v.map(({label:I},j)=>({id:j.toString(),label:I}))}),e.createElement(i.U,{"data-testid":"techdocs-content"},Z.panels.map((I,j)=>e.createElement(Q,{key:j,config:I,entities:P||[],index:j}))))}},88461:(A,o,t)=>{t.d(o,{S:()=>l});var e=t(14041),s=t(92303),m=t(18139),d=t(54195);const l=r=>{const{children:n}=r,E=`Documentation available in ${(0,m.gf)(d.U).getOptionalString("organization.name")??"Backstage"}`;return e.createElement(s.d,{title:"Documentation",subtitle:E,themeId:"documentation"},n)}},55290:(A,o,t)=>{var e,s=t(4293),m=t(78920);e={value:!0},o.A=void 0;var d=m(t(14041)),l=s(t(74044)),r=(0,l.default)(d.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");o.A=r}}]);})();

//# sourceMappingURL=9557.20878d52.chunk.js.map